<p>项目上线之前需要后端的模版引擎配合加载map表，如果是非map表模式则不需要，后端可选择feather提供的模版引擎<a class="link" href="https://github.com/feather-ui/feather_view">feather_view</a>，也可以使用自己的模版引擎。</p>


<p>选择使用自己模版引擎的项目，可使用适配器模式：</p>
<pre class="code" data-type="php">
&lt;?php
class TemplateAdapter{
	protected $view;

	public function __construct(){
		$this->view = new Feather_View;
		$this->view->template_dir = '/data/tpl';
		//静态资源map表插件自动读取
		$this->view->registerPlugin('autoload_static', array(
			'domain' => 'http://static.xxx.com',
			'map' => glob('/data/map/**.php'),	//可不设置，插件自动读取template_dir下的map目录，不存在则读取template_dir同级的map目录
			'caching' => true, //开启静态资源依赖缓存，因为feather加载静态资源依赖map表，而当map过多或者比较大时，会降低读取性能，开启缓存可避免多次读取依赖，缓存失效条件：模板内容有改变或者任意map表修改时间改变
			'cache' => new Feather_View_Plugin_Cache_File(array('cache_dir' => '/data/cache')), //使用cache助手，可自行实现一个类，此类必须继承于Feather_View_Plugin_Cache_Abstract，也可使用内置的CACHE_FILE类
		));
	}

	public function set($key, $name = null){
		$this->view->set($key, $name);
	}

	public function get($key = null){
		return $this->view->get($key);
	}

	public function render($path = ''){
		return $this->view->fetch($path);
	}
}
</pre>